<!DOCTYPE html>
<html>
<head>
<title>Fortress Security Platform</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Inter,sans-serif;background:#0f0f23;color:#e2e8f0}
.header{background:linear-gradient(90deg,#1e293b,#334155);padding:16px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #475569}
.logo{font-size:20px;font-weight:700;color:#60a5fa}
.sidebar{position:fixed;left:0;top:60px;width:260px;height:calc(100vh-60px);background:#1e293b;border-right:1px solid #475569;padding:16px 0}
.nav-section{margin-bottom:24px}
.nav-title{font-size:11px;font-weight:600;text-transform:uppercase;color:#64748b;margin:0 16px 12px;padding:0}
.nav-item{display:flex;align-items:center;gap:12px;padding:10px 16px;margin:2px 0;cursor:pointer;border-radius:6px;transition:all 0.2s}
.nav-item:hover{background:#374151}
.nav-item.active{background:#3b82f6;color:white}
.main{margin-left:260px;padding:24px;margin-top:60px}
.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;margin-bottom:32px}
.metric-card{background:linear-gradient(135deg,#1e293b,#334155);border:1px solid #475569;border-radius:12px;padding:20px}
.metric-value{font-size:32px;font-weight:700;margin:8px 0}
.critical{color:#ef4444}.success{color:#10b981}.warning{color:#f59e0b}
.panel{background:#1e293b;border:1px solid #475569;border-radius:12px;padding:20px;margin-bottom:20px}
.panel-title{font-size:18px;font-weight:600;margin-bottom:16px;color:#f8fafc}
.agent-item{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #374151}
.status-dot{width:8px;height:8px;border-radius:50%;margin-right:8px}
.status-active{background:#10b981}.status-warning{background:#f59e0b}.status-error{background:#ef4444}
.refresh-btn{background:#3b82f6;color:white;border:none;border-radius:6px;padding:8px 16px;cursor:pointer}
</style>
</head>
<body>
<div class="header">
<div class="logo">üè∞ Fortress Security Platform</div>
<button class="refresh-btn" onclick="loadData()">üîÑ Refresh</button>
</div>
<div class="sidebar">
<div class="nav-section">
<div class="nav-title">Overview</div>
<div class="nav-item active">üìä Dashboard</div>
<div class="nav-item">üèóÔ∏è Assets</div>
</div>
<div class="nav-section">
<div class="nav-title">Security</div>
<div class="nav-item">üîç Vulnerabilities</div>
<div class="nav-item">‚úÖ Compliance</div>
<div class="nav-item">üö® Incidents</div>
</div>
<div class="nav-section">
<div class="nav-title">Operations</div>
<div class="nav-item">ü§ñ Security Agents</div>
<div class="nav-item">‚ö° Active Scans</div>
</div>
</div>
<div class="main">
<h1>Security Dashboard</h1>
<p style="color:#94a3b8;margin-bottom:24px">Real-time security posture and threat intelligence</p>
<div class="metrics-grid" id="metrics"></div>
<div class="panel"><h3 class="panel-title">Security Agents Status</h3><div id="agents"></div></div>
<div class="panel"><h3 class="panel-title">Recent Vulnerabilities</h3><div id="vulnerabilities"></div></div>
</div>
<script>
async function loadData(){
try{
const response=await fetch('/api/stats');
const data=await response.json();
document.getElementById('metrics').innerHTML=`
<div class="metric-card"><div>Security Score</div><div class="metric-value success">${data.security_score||87.3}%</div></div>
<div class="metric-card"><div>Total Assets</div><div class="metric-value">${data.total_assets||1247}</div></div>
<div class="metric-card"><div>Critical Alerts</div><div class="metric-value critical">${data.critical_alerts||23}</div></div>
<div class="metric-card"><div>Active Agents</div><div class="metric-value success">${data.active_agents||45}</div></div>`;

document.getElementById('agents').innerHTML=`
<div class="agent-item"><div><span class="status-dot status-active"></span>fortress-prod-cluster</div><div>12 agents active</div></div>
<div class="agent-item"><div><span class="status-dot status-active"></span>fortress-staging-cluster</div><div>8 agents active</div></div>
<div class="agent-item"><div><span class="status-dot status-warning"></span>fortress-dev-cluster</div><div>6 agents active</div></div>`;

document.getElementById('vulnerabilities').innerHTML=`
<div style="background:#374151;padding:12px;margin:8px 0;border-radius:6px">
<div style="font-weight:600">CVE-2023-5678 <span style="background:#dc2626;color:white;padding:2px 6px;border-radius:4px;font-size:10px">CRITICAL</span></div>
<div style="color:#94a3b8;font-size:14px">nginx:1.20 - Remote Code Execution</div>
</div>
<div style="background:#374151;padding:12px;margin:8px 0;border-radius:6px">
<div style="font-weight:600">CVE-2023-1234 <span style="background:#ea580c;color:white;padding:2px 6px;border-radius:4px;font-size:10px">HIGH</span></div>
<div style="color:#94a3b8;font-size:14px">postgresql:13 - SQL Injection</div>
</div>`;
}catch(e){console.error('Failed to load data:',e)}}
loadData();setInterval(loadData,30000);
</script>
</body>
</html>
